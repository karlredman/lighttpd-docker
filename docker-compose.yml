version: "3"

# Docker Compose YAML file for lighttpd

# build with:
# $ sudo docker-compose build

# start with:
# $ sudo docker-compose up

# after start, enter shell with:
# $ sudo docker exec -it lighttpddocker_lighttpd_1 ash

services:
  lighttpd:
      image: lighttpd
      container_name: lighttpd
      build: .
      restart: always
      ports:
        - "8082:80" # for testing purposes, (un)comment as required
      volumes:
        - ./htdocs:/var/www/localhost/htdocs
        - ./etc/lighttpd:/etc/lighttpd

# # uncomment for dps and/or testing
# services:
#   lighttpd:
#       image: lighttpd
#       container_name: docker-container-4-name
#       hostname: docker-container-4.docker.devnet
#       build: .
#       restart: "no"
#       ports:
#         - "8084:80" # for testing purposes, (un)comment as required
#       volumes:
#         - ./htdocs:/var/www/localhost/htdocs
#         - ./etc/lighttpd:/etc/lighttpd

# networks:
#   default:
#     external:
#       name: docker.devnet
